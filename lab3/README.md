# Лабораторная работа №3

## Описание

В рамках лабораторной работы №3 была разработана игра "Виселица - Средневековье" с использованием объектно-ориентированного подхода и библиотеки Pygame. Игра реализует:

- Выбор уровня сложности (лёгкий, средний, сложный) с соответствующими словами и таймерами.
- Угадывание слов, связанных со средневековой тематикой, с ограничением в 6 попыток.
- Отображение виселицы и человека с постепенным рисованием в зависимости от числа ошибок.
- Подсчет оставшегося времени и отображение таблицы рекордов.
- Интерактивное управление через графический интерфейс с кнопками и звуковыми эффектами.

Игра разработана с использованием Pygame и соответствует принципам интерактивности и визуальной привлекательности.

## Сценарий разработки проекта

### 1. Постановка задачи

Программная система должна уметь:

- Предоставлять выбор уровня сложности (лёгкий, средний, сложный) с различными наборами слов и таймерами.
- Разрешать игроку угадывать слово, выбирая буквы с клавиатуры.
- Ограничить количество попыток (6) и время на угадывание слова в зависимости от сложности.
- Отображать графически виселицу и человека, обновляя изображение при каждой ошибке.
- Сохранять и отображать таблицу рекордов на основе оставшихся попыток.
- Предоставлять справку с правилами игры и интерфейс для выхода или перезапуска.
- Воспроизводить звуковые эффекты для интерактивности (например, при наведении на кнопку или угадывании буквы).

### 2. Объектно-ориентированный анализ и проектирование

#### Анализ предметной области
Предметная область — интерактивная игра "Виселица" со средневековой тематикой. Основные сущности:
- HangmanGame: Основной класс игры, управляющий состоянием, словами, попытками и интерфейсом.
- Button: Класс для создания интерактивных кнопок с текстом и поведением при наведении/нажатии.
- Слова: Разделены на уровни сложности (лёгкий, средний, сложный) с тематическими терминами.

#### Диаграмма состояний
Диаграмма состояний игры описывает жизненный цикл игровой сессии:
1. Начало: Игрок выбирает уровень сложности.
2. Игра:
   - Выбор буквы: Игрок нажимает на кнопку с буквой.
   - Проверка: Буква проверяется на наличие в слове.
   - Успех: Буква отображается, если угадана.
   - Ошибка: Уменьшается количество попыток, обновляется виселица.
3. Таймер: Время отсчитывается, игра заканчивается при его истечении.
4. Победа/Поражение:
   - Победа: Все буквы угаданы, игрок может войти в таблицу рекордов.
   - Поражение: Все попытки исчерпаны или время вышло.
5. Конец: Игрок может перезапустить игру или выйти в меню.

#### Диаграмма классов
Классы спроектированы с учетом принципов объектно-ориентированного программирования:
- HangmanGame: Управляет игровым циклом, состояниями (меню, игра, конец) и логикой.
- Button: Реализует интерактивные элементы с обработкой событий (нажатие, наведение).

### 3. Выбор технологий

- Язык программирования: Python.
- Библиотека: Pygame для создания графического интерфейса и обработки событий.
- Асинхронность: asyncio для управления игровым циклом в браузере (Pyodide).
- Звуки: pygame.mixer для воспроизведения звуковых эффектов.

Причины выбора:
- Pygame обеспечивает простой способ создания 2D-игр с визуальными элементами.
- asyncio совместим с Pyodide для работы в браузере.
- Python удобен для быстрой разработки и тестирования.

### 4. Объяснение работы основных функций

- **HangmanGame**
  - `__init__`: Инициализирует состояние игры, кнопки, слова и звуки.
  - `start_new_game`: Начинает новую игру, выбирает слово по сложности и устанавливает таймер.
  - `draw_word`: Отображает слово с подчеркиваниями и оставшееся время.
  - `draw_hangman`: Рисует виселицу и человека поэтапно в зависимости от попыток.
  - `check_win` и `check_lose`: Проверяют условия победы или поражения.
  - `update_loop`: Обрабатывает события, обновляет экран и проверяет таймер.
- **Button**
  - `__init__`: Создает кнопку с позицией и текстом.
  - `draw`: Рисует кнопку с текстом, добавляет зачеркивание при ошибке.
  - `is_clicked` и `hover`: Обрабатывают взаимодействие с кнопкой.

### 6. Осуществление работы программы

1. Запустите игру, нажав на кнопку "Начать игру" в меню.
2. Выберите уровень сложности (Лёгкий, Средний, Сложный).
3. Угадывайте слово, нажимая на буквы на клавиатуре.
4. Следите за временем в верхнем правом углу и оставшимися попытками.
5. При победе или поражении введите имя для таблицы рекордов или перезапустите игру.

## 7. Итоги

В ходе лабораторной работы была разработана интерактивная игра "Виселица - Средневековье" с графическим интерфейсом. Программа соответствует требованиям:
- Реализованы уровни сложности с разными словами и таймерами.
- Добавлена визуализация виселицы и человека с постепенным обновлением.
- Интегрированы звуковые эффекты и таблица рекордов.
- Код адаптирован для работы в браузере с Pyodide.

Особое внимание уделено:
- Дизайну виселицы и персонажа и фона в стиле Средневековья.
- Удобству интерфейса с кнопками и таймером.
- Адаптации под разные уровни сложности.

Система может быть расширена добавлением новых звуков, анимаций или мультиплеера.
